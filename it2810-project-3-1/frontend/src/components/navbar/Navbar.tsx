import React from "react";
import "./Navbar.css";
import * as data from "./links.json";
import { Link, useLocation } from "react-router-dom";

// Used the tutorial https://www.youtube.com/watch?v=D8fdAsIxDh8
const linksString = JSON.stringify(data);
const links = JSON.parse(linksString).links;

// Type for the links
type Link = {
  label: string;
  href: string;
};

// Links component that renders the links in the navbar
const Links: React.FC<{ links: Link[] }> = ({ links }) => {
  return (
    <div className="links-container">
      {links.map((link: Link) => {
        return (
          <div key={link.href} className="link" aria-label="Page links">
            <a href={link.href}>{link.label}</a>
          </div>
        );
      })}
    </div>
  );
};

// Navbar component that renders the navbar
const Navbar: React.FC<{}> = () => {
  // Get the current location
  const location = useLocation();
  const path = location.pathname;
  return (
    <nav className="navbar">
      <div className="logo-container">
        <svg width="43" height="38" viewBox="0 0 200 187" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M41 73H163L153.549 129L143.239 180H61.6197L41 73Z" fill="white" />
          <path d="M134.381 51.6615C135.174 46.3547 142.296 45.0989 144.857 49.8142V49.8142C145.986 51.8913 148.321 53.0262 150.649 52.6157L150.926 52.5668C156.124 51.6503 159.422 57.9596 155.703 61.7042V61.7042C154.019 63.399 153.651 66.0044 154.791 68.1036V68.1036C157.309 72.7405 152.456 77.9276 147.681 75.6814L147.267 75.4867C145.12 74.4765 142.569 74.9263 140.897 76.61L140.574 76.9346C136.856 80.6784 130.521 77.464 131.302 72.2453V72.2453C131.655 69.8828 130.418 67.5606 128.256 66.5437V66.5437C123.48 64.2971 124.421 57.2404 129.619 56.3239L129.896 56.275C132.224 55.8645 134.031 53.9993 134.381 51.6615V51.6615Z" fill="white">
            <animateMotion
              dur="1s"
              repeatCount="indefinite"
              path="M0 20L40 -50" />
          </path>
          <path d="M110.381 61.6615C111.174 56.3547 118.296 55.0989 120.857 59.8142V59.8142C121.986 61.8913 124.321 63.0262 126.649 62.6157L126.926 62.5668C132.124 61.6503 135.422 67.9596 131.703 71.7042V71.7042C130.019 73.399 129.651 76.0044 130.791 78.1036V78.1036C133.309 82.7405 128.456 87.9276 123.681 85.6814L123.267 85.4867C121.12 84.4765 118.569 84.9263 116.897 86.61L116.574 86.9346C112.856 90.6784 106.521 87.464 107.302 82.2453V82.2453C107.655 79.8828 106.418 77.5606 104.256 76.5437V76.5437C99.4803 74.2971 100.421 67.2404 105.619 66.3239L105.896 66.275C108.224 65.8645 110.031 63.9993 110.381 61.6615V61.6615Z" fill="white" />
          <path d="M86.3807 51.6615C87.1745 46.3547 94.2964 45.0989 96.8574 49.8142V49.8142C97.9855 51.8913 100.321 53.0262 102.649 52.6157L102.926 52.5668C108.124 51.6503 111.422 57.9596 107.703 61.7042V61.7042C106.019 63.399 105.651 66.0044 106.791 68.1036V68.1036C109.309 72.7405 104.456 77.9276 99.6813 75.6814L99.2672 75.4867C97.1198 74.4765 94.5691 74.9263 92.8967 76.61L92.5742 76.9346C88.8556 80.6784 82.5211 77.464 83.3017 72.2453V72.2453C83.6551 69.8828 82.4178 67.5606 80.2562 66.5437V66.5437C75.4803 64.2971 76.4214 57.2404 81.6192 56.3239L81.8964 56.275C84.2242 55.8645 86.031 53.9993 86.3807 51.6615V51.6615Z" fill="white" />
          <path d="M60.3807 57.6615C61.1745 52.3547 68.2964 51.0989 70.8574 55.8142V55.8142C71.9855 57.8913 74.3213 59.0262 76.6491 58.6157L76.9264 58.5668C82.1242 57.6503 85.422 63.9596 81.7025 67.7042V67.7042C80.0191 69.399 79.6507 72.0044 80.7908 74.1036V74.1036C83.3092 78.7405 78.4561 83.9276 73.6813 81.6814L73.2672 81.4867C71.1198 80.4765 68.5691 80.9263 66.8967 82.61L66.5742 82.9346C62.8556 86.6784 56.5211 83.464 57.3017 78.2453V78.2453C57.6551 75.8828 56.4178 73.5606 54.2562 72.5437V72.5437C49.4803 70.2971 50.4214 63.2404 55.6192 62.3239L55.8964 62.275C58.2242 61.8645 60.031 59.9993 60.3807 57.6615V57.6615Z" fill="white" />
          <path d="M111.522 44.0605C111.989 40.4686 116.806 39.6192 118.473 42.8349V42.8349C119.217 44.27 120.817 45.0539 122.408 44.7732V44.7732C125.975 44.1444 128.336 48.4057 125.866 51.0538L125.681 51.2516C124.584 52.4274 124.346 54.1661 125.086 55.5936L125.26 55.9296C126.906 59.1056 123.511 62.5252 120.323 60.9016V60.9016C118.861 60.1568 117.082 60.4704 115.962 61.6705V61.6705C113.522 64.2865 109.162 62.2344 109.623 58.6869L109.672 58.3115C109.879 56.717 109.06 55.1647 107.627 54.435L107.386 54.3122C104.159 52.6686 104.92 47.8568 108.487 47.228V47.228C110.079 46.9473 111.314 45.6634 111.522 44.0605V44.0605Z" fill="white" />
          <path d="M82.6967 38.1521C83.2799 34.4139 88.3079 33.5273 90.1345 36.8406V36.8406C90.9305 38.2845 92.5641 39.076 94.1878 38.7897L94.5174 38.7316C98.141 38.0927 100.423 42.5097 97.8043 45.0949V45.0949C96.6095 46.2746 96.3487 48.1127 97.1593 49.5831V49.5831C98.9345 52.8031 95.5911 56.4556 92.2488 54.9229L91.7527 54.6953C90.2437 54.0033 88.464 54.3171 87.2827 55.4835L86.8943 55.867C84.2779 58.4504 79.8869 56.1617 80.4537 52.5287V52.5287C80.7125 50.8697 79.8388 49.2317 78.3125 48.5318V48.5318C74.968 46.998 75.6013 42.067 79.2248 41.4281L79.5544 41.37C81.1781 41.0837 82.4425 39.7812 82.6967 38.1521V38.1521Z" fill="white">
            <animateMotion
              dur="1s"
              repeatCount="indefinite"
              path="M0 20L-40 -50" />
          </path>
        </svg>

        <Link to="/" className="logo" aria-label="Nextflix page, link">
          NEXTFLIX
        </Link>
      </div>
      <div className="links-container">
        <Link
          to="/"
          className={`link ${path === "/" ? "linkClicked" : ""}`}
          aria-label="Home page, link"
        >
          Home
        </Link>
        <Link
          to="/movies"
          className={`link ${path === "/movies" ? "linkClicked" : ""}`}
          aria-label="Movies page, link"
        >
          Movies
        </Link>
        <Link
          to="/series"
          className={`link ${path === "/series" ? "linkClicked" : ""}`}
          aria-label="Series page, link"
        >
          Series
        </Link>
      </div>
    </nav>
  );
};

export default Navbar;
